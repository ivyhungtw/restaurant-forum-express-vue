(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ca95d72"],{1511:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),l={class:"container mt-5 pt-5",id:"user-profile"},c={class:"row"},s={class:"row"},a={class:"row mb-3"};function o(e,t,r,o,i,u){var b=Object(n["A"])("spinner"),f=Object(n["A"])("user-profile-card"),d=Object(n["A"])("user-followings-card"),j=Object(n["A"])("user-followers-card"),O=Object(n["A"])("user-comments-card"),g=Object(n["A"])("user-fav-restaurants-card");return Object(n["t"])(),Object(n["e"])("div",l,[i.isLoading?(Object(n["t"])(),Object(n["e"])(b,{key:0})):(Object(n["t"])(),Object(n["e"])(n["a"],{key:1},[Object(n["h"])("div",c,[Object(n["h"])(f,{"user-profile":i.userProfile,"initial-following":i.isFollowed},null,8,["user-profile","initial-following"])]),Object(n["h"])("div",s,[Object(n["h"])(d,{followings:i.followings},null,8,["followings"]),Object(n["h"])(j,{followers:i.followers},null,8,["followers"])]),Object(n["h"])("div",a,[Object(n["h"])(O,{restaurants:i.commentRestaurants},null,8,["restaurants"]),Object(n["h"])(g,{restaurants:i.favRestaurants},null,8,["restaurants"])])],64))])}var i=r("5530"),u=r("1da1"),b=(r("96cf"),r("b0c0"),{class:"col-12 col-md-6 col-lg-4"}),f={class:"col-12 col-md-6 col-lg-8 d-flex flex-column justify-content-between pt-4 pb-5"},d={class:"mb-3"},j=Object(n["g"])(" commented restaurants "),O=Object(n["g"])(" saved restaurants "),g=Object(n["g"])(" followings "),h=Object(n["g"])(" followers "),p={key:0},m=Object(n["g"])("Edit"),w={key:1};function v(e,t,r,l,c,s){var a=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])(n["a"],null,[Object(n["h"])("div",b,[Object(n["h"])("img",{src:e.$filter.emptyImageFilter(r.userProfile.image),style:{width:"250px","margin-bottom":"25px"}},null,8,["src"])]),Object(n["h"])("div",f,[Object(n["h"])("div",d,[Object(n["h"])("h3",null,Object(n["D"])(r.userProfile.name),1),Object(n["h"])("p",null,Object(n["D"])(r.userProfile.email),1),Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.userProfile.commentRestaurantsLength),1),j]),Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.userProfile.favRestaurantsLength),1),O]),Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.userProfile.followingsLength),1),g]),Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.userProfile.followersLength),1),h])]),e.currentUser.id===r.userProfile.id?(Object(n["t"])(),Object(n["e"])("div",p,[Object(n["h"])(a,{to:{name:"user-profile-edit",params:{id:e.currentUser.id}},class:"btn btn-red"},{default:Object(n["K"])((function(){return[m]})),_:1},8,["to"])])):(Object(n["t"])(),Object(n["e"])("div",w,[c.isFollowed?(Object(n["t"])(),Object(n["e"])("button",{key:0,type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=Object(n["M"])((function(e){return s.unfollow(r.userProfile.id)}),["stop","prevent"]))}," Unfollow ")):(Object(n["t"])(),Object(n["e"])("button",{key:1,type:"button",class:"btn btn-red",onClick:t[2]||(t[2]=Object(n["M"])((function(e){return s.follow(r.userProfile.id)}),["stop","prevent"]))}," Follow "))]))])],64)}var y=r("5502"),x=r("4cce"),k=r("2fa3"),F={props:{userProfile:{type:Object,required:!0},initialFollowing:{type:Boolean,required:!0}},data:function(){return{isFollowed:this.initialFollowing}},computed:Object(i["a"])({},Object(y["b"])(["currentUser"])),watch:{initialFollowing:function(e){this.isFollowed=e}},methods:{follow:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x["a"].follow(e);case 3:if(n=r.sent,l=n.data,"success"===l.status){r.next=7;break}throw new Error(l.message);case 7:t.isFollowed=!0,r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),k["b"].fire({icon:"error",title:"Unable to follow the user, please try again later."});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},unfollow:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x["a"].unfollow(e);case 3:if(n=r.sent,l=n.data,"success"===l.status){r.next=7;break}throw new Error(l.message);case 7:t.isFollowed=!1,r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),k["b"].fire({icon:"error",title:"Unable to unfollow the user, please try again later."});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}};F.render=v;var R=F,P={class:"col-12 col-lg-6 px-2 mb-3"},U={class:"info-container border"},A={class:"title-container px-4 py-3"},L=Object(n["g"])(" followings "),D={class:"image-container col-12 p-4 d-flex flex-wrap"};function C(e,t,r,l,c,s){var a=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])("div",P,[Object(n["h"])("div",U,[Object(n["h"])("div",A,[Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.followings.length),1),L])]),Object(n["h"])("div",D,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.followings,(function(t){return Object(n["t"])(),Object(n["e"])("div",{key:t.id,class:"mb-2 me-2"},[Object(n["h"])(a,{to:{name:"user-profile",params:{id:t.id}}},{default:Object(n["K"])((function(){return[Object(n["h"])("img",{src:e.$filter.emptyImageFilter(t.image)},null,8,["src"])]})),_:2},1032,["to"])])})),128))])])])}var q={props:{followings:{type:Array,required:!0}}};q.render=C;var $=q,I={class:"col-12 col-lg-6 px-2 mb-3"},K={class:"info-container border"},_={class:"title-container px-4 py-3"},z=Object(n["g"])(" followers "),E={class:"image-container col-12 p-4 d-flex flex-wrap"};function J(e,t,r,l,c,s){var a=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])("div",I,[Object(n["h"])("div",K,[Object(n["h"])("div",_,[Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.followers.length),1),z])]),Object(n["h"])("div",E,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.followers,(function(t){return Object(n["t"])(),Object(n["e"])("div",{key:t.id,class:"mb-2 me-2"},[Object(n["h"])(a,{to:{name:"user-profile",params:{id:t.id}}},{default:Object(n["K"])((function(){return[Object(n["h"])("img",{src:e.$filter.emptyImageFilter(t.image)},null,8,["src"])]})),_:2},1032,["to"])])})),128))])])])}var M={props:{followers:{type:Array,required:!0}}};M.render=J;var B=M,S={class:"col-12 col-lg-6 px-2 mb-3"},G={class:"info-container border"},H={class:"title-container px-4 py-3"},N=Object(n["g"])(" commented restaurants "),Q={class:"image-container col-12 p-4 d-flex flex-wrap"};function T(e,t,r,l,c,s){var a=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])("div",S,[Object(n["h"])("div",G,[Object(n["h"])("div",H,[Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.restaurants.length),1),N])]),Object(n["h"])("div",Q,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.restaurants,(function(t){return Object(n["t"])(),Object(n["e"])("div",{key:t.id,class:"mb-2 me-2"},[Object(n["h"])(a,{to:{name:"restaurant",params:{id:t.id}}},{default:Object(n["K"])((function(){return[Object(n["h"])("img",{src:e.$filter.emptyImageFilter(t.image)},null,8,["src"])]})),_:2},1032,["to"])])})),128))])])])}var V={props:{restaurants:{type:Array,required:!0}}};V.render=T;var W=V,X={class:"col-12 col-lg-6 px-2 mb-3"},Y={class:"info-container border"},Z={class:" px-4 py-3",style:{"border-bottom":"#cfcfcf9e solid 1px","background-color":"#f8f9fa"}},ee=Object(n["g"])(" saved restaurants "),te={class:"image-container col-12 p-4 d-flex flex-wrap"};function re(e,t,r,l,c,s){var a=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])("div",X,[Object(n["h"])("div",Y,[Object(n["h"])("div",Z,[Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["D"])(r.restaurants.length),1),ee])]),Object(n["h"])("div",te,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.restaurants,(function(t){return Object(n["t"])(),Object(n["e"])("div",{key:t.id,class:"mb-2 me-2"},[Object(n["h"])(a,{to:{name:"restaurant",params:{id:t.id}}},{default:Object(n["K"])((function(){return[Object(n["h"])("img",{src:e.$filter.emptyImageFilter(t.image)},null,8,["src"])]})),_:2},1032,["to"])])})),128))])])])}var ne={props:{restaurants:{type:Array,required:!0}}};ne.render=re;var le=ne,ce=r("2375"),se={data:function(){return{userProfile:{},commentRestaurants:[],followers:[],followings:[],favRestaurants:[],isFollowed:!1,isLoading:!0}},components:{UserProfileCard:R,UserFollowingsCard:$,UserFollowersCard:B,UserCommentsCard:W,UserFavRestaurantsCard:le,Spinner:ce["a"]},methods:{fetchUser:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,l,c,s,a,o,u,b;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,r.next=4,x["a"].get(e);case 4:if(n=r.sent,l=n.data,"success"===l.status){r.next=8;break}throw new Error(l.message);case 8:c=l.userProfile,s=l.commentRestaurants,a=l.followers,o=l.followings,u=l.favRestaurants,b=l.isFollowed,t.userProfile=Object(i["a"])(Object(i["a"])({},c),{},{commentRestaurantsLength:s.length,followersLength:a.length,followingsLength:o.length,favRestaurantsLength:u.length}),t.commentRestaurants=s,t.followers=a,t.followings=o,t.favRestaurants=u,t.isFollowed=b,t.isLoading=!1,r.next=22;break;case 18:r.prev=18,r.t0=r["catch"](0),t.isLoading=!1,k["b"].fire({icon:"error",title:"Unable to get user data, please try again later."});case 22:case"end":return r.stop()}}),r,null,[[0,18]])})))()}},created:function(){var e=this.$route.params.id;this.fetchUser(e)},beforeRouteUpdate:function(e,t,r){var n=e.params.id;this.fetchUser(n),r()}};r("833f");se.render=o;t["default"]=se},"1ffa":function(e,t,r){},"833f":function(e,t,r){"use strict";r("1ffa")}}]);
//# sourceMappingURL=chunk-0ca95d72.fa40fd0b.js.map