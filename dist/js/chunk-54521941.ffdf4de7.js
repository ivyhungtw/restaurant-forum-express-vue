(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54521941"],{2909:function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function n(e){if(Array.isArray(e))return a(e)}r.d(t,"a",(function(){return o}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0");function i(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return n(e)||c(e)||i(e)||s()}},"7cdd":function(e,t,r){},a630:function(e,t,r){var a=r("23e7"),n=r("4df4"),c=r("1c7e"),i=!c((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:n})},d28b:function(e,t,r){var a=r("746f");a("iterator")},d37f:function(e,t,r){"use strict";r("7cdd")},da5c:function(e,t,r){"use strict";r.r(t);r("b0c0");var a=r("7a23"),n=Object(a["N"])("data-v-467e70b1");Object(a["w"])("data-v-467e70b1");var c={class:"container py-5"},i={class:"mb-3"},s=Object(a["h"])("label",{class:"form-label",for:"name"},"Name",-1),o={class:"mb-3"},u=Object(a["h"])("label",{class:"form-label",for:"image"},"Image",-1);Object(a["u"])();var l=n((function(e,t,r,l,m,d){var b=Object(a["A"])("vee-field"),f=Object(a["A"])("ErrorMessage"),h=Object(a["A"])("vee-form");return Object(a["t"])(),Object(a["e"])("div",c,[Object(a["h"])(h,{"validation-schema":m.schema,onSubmit:d.submitForm},{default:n((function(){return[Object(a["h"])("div",i,[s,Object(a["h"])(b,{id:"name",modelValue:m.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m.user.name=e}),type:"text",name:"name",class:"form-control",placeholder:"Enter Name",required:""},null,8,["modelValue"]),Object(a["h"])(f,{class:"text-red",name:"name"})]),Object(a["h"])("div",o,[u,m.user.image?(Object(a["t"])(),Object(a["e"])("img",{key:0,src:m.user.image,class:"d-block img-thumnnail mb-3",width:"200",height:"200"},null,8,["src"])):Object(a["f"])("",!0),Object(a["h"])(b,{id:"image",type:"file",name:"image",accept:"image/*",class:"form-control",onChange:d.changeFile},null,8,["onChange"]),Object(a["h"])(f,{class:"text-red",name:"image"})]),Object(a["h"])("button",{type:"submit",class:"btn btn-red",disabled:m.isProcessing}," Submit ",8,["disabled"])]})),_:1},8,["validation-schema","onSubmit"])])})),m=r("2909"),d=r("1da1"),b=r("5530"),f=(r("96cf"),r("a9e3"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("5502")),h=r("4cce"),p=r("2fa3"),g={data:function(){return{user:{},isProcessing:!1,schema:{name:"required|min:3|max:50",image:"image"}}},created:function(){this.setUser(this.currentUser)},computed:Object(b["a"])({},Object(f["b"])(["currentUser"])),watch:{currentUser:function(e){this.setUser(e)}},methods:{setUser:function(e){var t=this.$route.params.id;Number(t)!==e.id&&this.$router.push({name:"not-found"}),this.user=Object(b["a"])({},this.currentUser)},changeFile:function(e){var t=e.target.files;if(t.length){var r=window.URL.createObjectURL(t[0]);this.user.image=r}else this.user.image=""},submitForm:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,n,c,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.user.name&&!(t.user.name.length>25)){r.next=3;break}return r.abrupt("return",p["b"].fire({icon:"error",title:"Name can not be empty or longer than 25 characters."}));case 3:return t.isProcessing=!0,a=new FormData,n=e.image?Object(m["a"])(e.image)[0]:null,a.append("image",n),a.append("name",t.user.name),r.next=10,h["a"].update({userId:t.user.id,formData:a});case 10:if(c=r.sent,i=c.data,"success"===i.status){r.next=14;break}throw new Error(i.message);case 14:return t.$store.commit("changeImage",i.image),t.$router.push({name:"user-profile",params:{id:t.currentUser.id}}),r.abrupt("return",p["b"].fire({icon:"success",title:"Update successfully!"}));case 19:return r.prev=19,r.t0=r["catch"](0),t.isProcessing=!1,console.log(r.t0),r.abrupt("return",p["b"].fire({icon:"error",title:"Unable to update user data, please try again later."}));case 24:case"end":return r.stop()}}),r,null,[[0,19]])})))()}}};r("d37f");g.render=l,g.__scopeId="data-v-467e70b1";t["default"]=g},fb6a:function(e,t,r){"use strict";var a=r("23e7"),n=r("861d"),c=r("e8b5"),i=r("23cb"),s=r("50c4"),o=r("fc6a"),u=r("8418"),l=r("b622"),m=r("1dde"),d=m("slice"),b=l("species"),f=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,a,l,m=o(this),d=s(m.length),p=i(e,d),g=i(void 0===t?d:t,d);if(c(m)&&(r=m.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?n(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return f.call(m,p,g);for(a=new(void 0===r?Array:r)(h(g-p,0)),l=0;p<g;p++,l++)p in m&&u(a,l,m[p]);return a.length=l,a}})}}]);
//# sourceMappingURL=chunk-54521941.ffdf4de7.js.map