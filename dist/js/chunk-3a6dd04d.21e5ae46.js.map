{"version":3,"sources":["webpack:///./src/views/UsersTop.vue","webpack:///./src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?c67b","webpack:///./src/views/UsersTop.vue?862d","webpack:///./src/components/UserCard.vue?780a"],"names":["class","isLoading","topUsers","initialUser","key","id","initial-user","current-user-id","currentUserId","style","user","isFollowed","type","unfollow","disabled","isProcessing","follow","to","getUserData","src","$filter","emptyImageFilter","image","alt","data-bs-toggle","data-bs-target","data-id","name","followerCount","props","Object","required","Number","data","this","methods","userId","users","status","Error","message","fire","icon","title","render","__scopeId","components","UserCard","Spinner","fetchTopUsers","getTopUsers","created"],"mappings":"4IACOA,MAAM,kB,EAKP,eAOM,OAPDA,MAAM,qCAAmC,CAC5C,eAA+B,MAA3BA,MAAM,QAAO,aACjB,eAII,SAJD,sN,KAML,eAAM,mB,GACDA,MAAM,uC,8GAdf,eAwBM,MAxBN,EAwBM,CAtBW,EAAAC,W,iBAAf,eAA4B,a,iBAC5B,eAoBW,gBAlBT,EAQA,EACA,eAQM,MARN,EAQM,E,mBANJ,eAKE,2BAJsB,EAAAC,UAAQ,SAAvBC,G,wBADT,eAKE,GAHCC,IAAKD,EAAYE,GACjBC,eAAcH,EACdI,kBAAiB,EAAAC,e,iLCnBxBR,MAAM,4I,GAODA,MAAM,sBAAsBS,MAAA,iB,SAG7BT,MAAM,0D,GA0CHA,MAAM,wD,GACJA,MAAM,kB,GACLA,MAAM,0B,GAGJA,MAAM,sB,GAETA,MAAM,uC,iBAIR,a,4GAhET,eAsEM,MAtEN,EAsEM,CA9DJ,eA6DM,MA7DN,EA6DM,CA3DI,EAAAQ,gBAAkB,EAAAE,KAAKL,I,iBAD/B,eAsBM,MAtBN,EAsBM,CAjBI,EAAAK,KAAKC,Y,iBADb,eAQS,U,MANPC,KAAK,SACLZ,MAAM,iBACL,QAAK,+CAAe,EAAAa,SAAS,EAAAH,KAAKL,MAAE,qBACpCS,SAAU,EAAAC,cACZ,aAED,kB,iBACA,eAQS,U,MANPH,KAAK,SACLZ,MAAM,kBACL,QAAK,+CAAe,EAAAgB,OAAO,EAAAN,KAAKL,MAAE,qBAClCS,SAAU,EAAAC,cACZ,aAED,oB,sBAEF,eAoBc,GAnBXE,GAAE,gCAAwC,EAAAP,KAAKL,KAChDL,MAAM,wDACL,QAAK,+BAAE,EAAAkB,YAAY,EAAAR,S,YAEpB,iBAcE,CAdF,eAcE,OAbCS,IAAK,EAAAC,QAAQC,iBAAiB,EAAAX,KAAKY,OACpCtB,MAAM,+NAQNuB,IAAI,MACJC,iBAAe,QACfC,iBAAe,cACdC,UAAS,EAAAhB,KAAKL,I,6CAGnB,eAeM,MAfN,EAeM,CAdJ,eAKM,MALN,EAKM,CAJJ,eAEK,KAFL,EAEK,eADA,EAAAK,KAAKiB,MAAI,GAEd,eAA+E,OAA/E,EAAiC,aAAU,eAAG,EAAAjB,KAAKkB,eAAa,QAElE,eAOM,MAPN,EAOM,CANJ,eAKc,GAJXX,GAAE,gCAAwC,EAAAP,KAAKL,KAChDL,MAAM,mB,YACP,iBAED,C,gFAWK,GACb6B,MAAO,CACL1B,YAAa,CACXS,KAAMkB,OACNC,UAAU,GAEZvB,cAAe,CACbI,KAAMoB,OACND,UAAU,IAGdE,KAXa,WAYX,MAAO,CACLvB,KAAMwB,KAAK/B,YACXY,cAAc,IAGlBoB,QAAS,CACDnB,OADC,SACMoB,GAAQ,gLAEjB,EAAKrB,cAAe,EAFH,SAGMsB,EAAA,KAASrB,OAAOoB,GAHtB,mBAGTH,EAHS,EAGTA,KACY,YAAhBA,EAAKK,OAJQ,sBAKT,IAAIC,MAAMN,EAAKO,SALN,OAQjB,EAAK9B,KAAL,iCACK,EAAKA,MADV,IAEEkB,cAAe,EAAKlB,KAAKkB,cAAgB,EACzCjB,YAAY,IAEd,EAAKI,cAAe,EAbH,qDAejB,EAAKA,cAAe,EACpB,OAAM0B,KAAK,CACTC,KAAM,QACNC,MAAO,uDAlBQ,6DAsBf9B,SAvBC,SAuBQuB,GAAQ,gLAEnB,EAAKrB,cAAe,EAFD,SAGIsB,EAAA,KAASxB,SAASuB,GAHtB,mBAGXH,EAHW,EAGXA,KACY,YAAhBA,EAAKK,OAJU,sBAKX,IAAIC,MAAMN,EAAKO,SALJ,OAOnB,EAAK9B,KAAL,iCACK,EAAKA,MADV,IAEEkB,cAAe,EAAKlB,KAAKkB,cAAgB,EACzCjB,YAAY,IAEd,EAAKI,cAAe,EAZD,qDAcnB,EAAKA,cAAe,EACpB,OAAM0B,KAAK,CACTC,KAAM,QACNC,MAAO,yDAjBU,+D,UCjH3B,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YF0BA,GACbZ,KADa,WAEX,MAAO,CACL/B,SAAU,GACVM,eAAgB,EAChBP,WAAW,IAGf6C,WAAY,CACVC,WACAC,UAAA,MAEFb,QAAS,CACDc,cADC,WACe,gLAElB,EAAKhD,WAAY,EAFC,SAGKoC,EAAA,KAASa,cAHd,gBAGVjB,EAHU,EAGVA,KAER,EAAK/B,SAAW+B,EAAKI,MACrB,EAAK7B,cAAgByB,EAAK5B,GAC1B,EAAKJ,WAAY,EAPC,qDASlB,EAAKA,WAAY,EACjB,OAAMwC,KAAK,CACTC,KAAM,QACNC,MAAO,0DAZS,8DAiBxBQ,QA9Ba,WA+BXjB,KAAKe,kBG9DT,EAAOL,OAASA,EAED,gB,kCCLf,W","file":"js/chunk-3a6dd04d.21e5ae46.js","sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <!-- Spinner -->\n    <spinner v-if=\"isLoading\" />\n    <template v-else>\n      <!-- Title -->\n      <div class=\"title text-center col-12 p-5 mb-3\">\n        <h1 class=\"mb-3\">Top Users</h1>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt\n          ut labore et dolore magna aliqua. Lectus magna fringilla urna porttitor rhoncus. Tellus\n          orci ac auctor augue mauris.\n        </p>\n      </div>\n      <hr />\n      <div class=\"user-container row text-center mt-5\">\n        <!-- User Card -->\n        <user-card\n          v-for=\"initialUser in topUsers\"\n          :key=\"initialUser.id\"\n          :initial-user=\"initialUser\"\n          :current-user-id=\"currentUserId\"\n        />\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport UserCard from '../components/UserCard.vue';\nimport Spinner from '../components/Spinner.vue';\nimport usersAPI from '../apis/users';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  data() {\n    return {\n      topUsers: [],\n      currentUserId: -1,\n      isLoading: true\n    };\n  },\n  components: {\n    UserCard,\n    Spinner\n  },\n  methods: {\n    async fetchTopUsers() {\n      try {\n        this.isLoading = true;\n        const { data } = await usersAPI.getTopUsers();\n\n        this.topUsers = data.users;\n        this.currentUserId = data.id;\n        this.isLoading = false;\n      } catch (err) {\n        this.isLoading = false;\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to get top users data, please try again later.'\n        });\n      }\n    }\n  },\n  created() {\n    this.fetchTopUsers();\n  }\n};\n</script>\n","<template>\n  <div\n    class=\"col-12 col-md-6 col-lg-4 col-xl-3\n           mb-4\n           d-flex\n           align-items-stretch\n           justify-content-center\"\n  >\n    <!-- Card -->\n    <div class=\"user-card card pb-2\" style=\"width: 25rem; \">\n      <div\n        v-if=\"currentUserId !== user.id\"\n        class=\"btn-container add mx-4 mt-2 d-flex justify-content-end\"\n      >\n        <button\n          v-if=\"user.isFollowed\"\n          type=\"button\"\n          class=\"btn btn-danger\"\n          @click.prevent.stop=\"unfollow(user.id)\"\n          :disabled=\"isProcessing\"\n        >\n          Unfollow\n        </button>\n        <button\n          v-else\n          type=\"button\"\n          class=\"btn btn-primary\"\n          @click.prevent.stop=\"follow(user.id)\"\n          :disabled=\"isProcessing\"\n        >\n          + Follow\n        </button>\n      </div>\n      <router-link\n        :to=\"{ name: 'user-profile', params: { id: user.id } }\"\n        class=\"user-img d-flex justify-content-center px-5 py-3 mt-5\"\n        @click=\"getUserData(user)\"\n      >\n        <img\n          :src=\"$filter.emptyImageFilter(user.image)\"\n          class=\"\n                    img-show-user\n                    btn-show-user\n                    rounded-circle\n                    card-img-top\n                    mx-auto\n                    img-fluid\n                  \"\n          alt=\"...\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#user-modal\"\n          :data-id=\"user.id\"\n        />\n      </router-link>\n      <div class=\"card-body d-flex flex-column justify-content-between\">\n        <div class=\"user-info mb-2\">\n          <h5 class=\"card-title text-center\">\n            {{ user.name }}\n          </h5>\n          <span class=\"badge bg-secondary\">followersï¼š{{ user.followerCount || 0 }}</span>\n        </div>\n        <div class=\" d-flex justify-content-center mt-2\">\n          <router-link\n            :to=\"{ name: 'user-profile', params: { id: user.id } }\"\n            class=\"btn btn-primary\"\n          >\n            Profile\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport usersAPI from '../apis/users';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  props: {\n    initialUser: {\n      type: Object,\n      required: true\n    },\n    currentUserId: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      user: this.initialUser,\n      isProcessing: false\n    };\n  },\n  methods: {\n    async follow(userId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.follow(userId);\n        if (data.status !== 'success') {\n          throw new Error(data.message);\n        }\n\n        this.user = {\n          ...this.user,\n          followerCount: this.user.followerCount + 1,\n          isFollowed: true\n        };\n        this.isProcessing = false;\n      } catch (err) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to follow the user, please try again later.'\n        });\n      }\n    },\n    async unfollow(userId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.unfollow(userId);\n        if (data.status !== 'success') {\n          throw new Error(data.message);\n        }\n        this.user = {\n          ...this.user,\n          followerCount: this.user.followerCount - 1,\n          isFollowed: false\n        };\n        this.isProcessing = false;\n      } catch (err) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to unfollow the user, please try again later.'\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\nimg {\n  object-fit: cover;\n  width: 140px;\n  height: 140px;\n}\n\n/* Card */\n.card {\n  box-shadow: 4px 4px 5px rgb(58 58 58 / 7%);\n  border: none;\n}\n\n.card:hover {\n  box-shadow: 4px 4px 5px rgb(51 31 31 / 14%);\n}\n\n.user-card {\n  position: relative;\n}\n\n.btn-container {\n  position: absolute;\n  top: 5px;\n  right: -10px;\n}\n\n.btn-container .btn {\n  padding: 1px 10px;\n  font-size: 12px;\n  border-radius: 0.5rem;\n  min-width: 0;\n}\n\n.btn-container .btn-danger {\n  background-color: #bd2333;\n  color: white;\n}\n\n.btn-container:hover .btn-danger {\n  background-color: transparent;\n  color: #bd2333;\n}\n</style>\n","import { render } from \"./UserCard.vue?vue&type=template&id=4e49159a&scoped=true\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js\"\n\nimport \"./UserCard.vue?vue&type=style&index=0&id=4e49159a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4e49159a\"\n\nexport default script","import { render } from \"./UsersTop.vue?vue&type=template&id=5a1f6d50\"\nimport script from \"./UsersTop.vue?vue&type=script&lang=js\"\nexport * from \"./UsersTop.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserCard.vue?vue&type=style&index=0&id=4e49159a&scoped=true&lang=css\""],"sourceRoot":""}