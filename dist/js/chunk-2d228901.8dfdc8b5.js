(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d228901"],{da5c:function(e,t,r){"use strict";r.r(t);r("b0c0");var a=r("7a23"),n={class:"container py-5"},s={class:"mb-3"},c=Object(a["g"])("label",{class:"form-label",for:"name"},"Name",-1),i={class:"mb-3"},u=Object(a["g"])("label",{class:"form-label",for:"image"},"Image",-1);function o(e,t,r,o,l,b){return Object(a["p"])(),Object(a["d"])("div",n,[Object(a["g"])("form",{onSubmit:t[3]||(t[3]=Object(a["G"])((function(){return b.submitForm&&b.submitForm.apply(b,arguments)}),["prevent","stop"]))},[Object(a["g"])("div",s,[c,Object(a["F"])(Object(a["g"])("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.user.name=e}),type:"text",name:"name",class:"form-control",placeholder:"Enter Name",required:""},null,512),[[a["B"],l.user.name]])]),Object(a["g"])("div",i,[u,l.user.image?(Object(a["p"])(),Object(a["d"])("img",{key:0,src:l.user.image,class:"d-block img-thumnnail mb-3",width:"200",height:"200"},null,8,["src"])):Object(a["e"])("",!0),Object(a["g"])("input",{id:"image",type:"file",name:"image",accept:"image/*",class:"form-control",onChange:t[2]||(t[2]=function(){return b.changeFile&&b.changeFile.apply(b,arguments)})},null,32)]),Object(a["g"])("button",{type:"submit",class:"btn btn-primary",disabled:l.isProcessing}," Submit ",8,["disabled"])],32)])}var l=r("1da1"),b=r("5530"),m=(r("96cf"),r("a9e3"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("5502")),d=r("4cce"),p=r("2fa3"),g={data:function(){return{user:{},isProcessing:!1}},created:function(){this.setUser(this.currentUser)},computed:Object(b["a"])({},Object(m["b"])(["currentUser"])),watch:{currentUser:function(e){this.setUser(e)}},methods:{setUser:function(e){var t=this.$route.params.id;Number(t)!==e.id&&this.$router.push({name:"not-found"}),this.user=Object(b["a"])({},this.currentUser)},changeFile:function(e){var t=e.target.files;if(t.length){var r=window.URL.createObjectURL(t[0]);this.user.image=r}else this.user.image=""},submitForm:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.user.name&&!(t.user.name.length>25)){r.next=3;break}return r.abrupt("return",p["b"].fire({icon:"error",title:"Name can not be empty or longer than 25 characters."}));case 3:return t.isProcessing=!0,a=e.target,n=new FormData(a),r.next=8,d["a"].update({userId:t.user.id,formData:n});case 8:if(s=r.sent,c=s.data,"success"===c.status){r.next=12;break}throw new Error(c.message);case 12:return t.$router.push({name:"user-profile",params:{id:t.currentUser.id}}),r.abrupt("return",p["b"].fire({icon:"success",title:"Update successfully!"}));case 16:return r.prev=16,r.t0=r["catch"](0),t.isProcessing=!1,console.log(r.t0),r.abrupt("return",p["b"].fire({icon:"error",title:"Unable to update user data, please try again later."}));case 21:case"end":return r.stop()}}),r,null,[[0,16]])})))()}}};g.render=o;t["default"]=g}}]);
//# sourceMappingURL=chunk-2d228901.8dfdc8b5.js.map