(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-675f5530"],{2909:function(e,r,t){"use strict";function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function n(e){if(Array.isArray(e))return a(e)}t.d(r,"a",(function(){return o}));t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0"),t("a630");function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t("fb6a"),t("b0c0");function i(e,r){if(e){if("string"===typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return n(e)||c(e)||i(e)||s()}},a630:function(e,r,t){var a=t("23e7"),n=t("4df4"),c=t("1c7e"),i=!c((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:n})},d28b:function(e,r,t){var a=t("746f");a("iterator")},da5c:function(e,r,t){"use strict";t.r(r);t("b0c0");var a=t("7a23"),n={class:"container py-5"},c={class:"mb-3"},i=Object(a["g"])("label",{class:"form-label",for:"name"},"Name",-1),s={class:"mb-3"},o=Object(a["g"])("label",{class:"form-label",for:"image"},"Image",-1);function u(e,r,t,u,l,m){var d=Object(a["z"])("vee-field"),b=Object(a["z"])("ErrorMessage"),f=Object(a["z"])("vee-form");return Object(a["s"])(),Object(a["d"])("div",n,[Object(a["g"])(f,{"validation-schema":l.schema,onSubmit:m.submitForm},{default:Object(a["J"])((function(){return[Object(a["g"])("div",c,[i,Object(a["g"])(d,{id:"name",modelValue:l.user.name,"onUpdate:modelValue":r[1]||(r[1]=function(e){return l.user.name=e}),type:"text",name:"name",class:"form-control",placeholder:"Enter Name",required:""},null,8,["modelValue"]),Object(a["g"])(b,{class:"text-red",name:"name"})]),Object(a["g"])("div",s,[o,l.user.image?(Object(a["s"])(),Object(a["d"])("img",{key:0,src:l.user.image,class:"d-block img-thumnnail mb-3",width:"200",height:"200"},null,8,["src"])):Object(a["e"])("",!0),Object(a["g"])(d,{id:"image",type:"file",name:"image",accept:"image/*",class:"form-control",onChange:m.changeFile},null,8,["onChange"]),Object(a["g"])(b,{class:"text-red",name:"image"})]),Object(a["g"])("button",{type:"submit",class:"btn btn-primary",disabled:l.isProcessing}," Submit ",8,["disabled"])]})),_:1},8,["validation-schema","onSubmit"])])}var l=t("2909"),m=t("1da1"),d=t("5530"),b=(t("96cf"),t("a9e3"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("5502")),f=t("4cce"),g=t("2fa3"),p={data:function(){return{user:{},isProcessing:!1,schema:{name:"required|min:3|max:50",image:"image"}}},created:function(){this.setUser(this.currentUser)},computed:Object(d["a"])({},Object(b["b"])(["currentUser"])),watch:{currentUser:function(e){this.setUser(e)}},methods:{setUser:function(e){var r=this.$route.params.id;Number(r)!==e.id&&this.$router.push({name:"not-found"}),this.user=Object(d["a"])({},this.currentUser)},changeFile:function(e){var r=e.target.files;if(r.length){var t=window.URL.createObjectURL(r[0]);this.user.image=t}else this.user.image=""},submitForm:function(e){var r=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,n,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r.user.name&&!(r.user.name.length>25)){t.next=3;break}return t.abrupt("return",g["b"].fire({icon:"error",title:"Name can not be empty or longer than 25 characters."}));case 3:return r.isProcessing=!0,a=new FormData,n=e.image?Object(l["a"])(e.image)[0]:null,a.append("image",n),a.append("name",r.user.name),t.next=10,f["a"].update({userId:r.user.id,formData:a});case 10:if(c=t.sent,i=c.data,"success"===i.status){t.next=14;break}throw new Error(i.message);case 14:return r.$store.commit("changeImage",i.image),r.$router.push({name:"user-profile",params:{id:r.currentUser.id}}),t.abrupt("return",g["b"].fire({icon:"success",title:"Update successfully!"}));case 19:return t.prev=19,t.t0=t["catch"](0),r.isProcessing=!1,console.log(t.t0),t.abrupt("return",g["b"].fire({icon:"error",title:"Unable to update user data, please try again later."}));case 24:case"end":return t.stop()}}),t,null,[[0,19]])})))()}}};p.render=u;r["default"]=p},fb6a:function(e,r,t){"use strict";var a=t("23e7"),n=t("861d"),c=t("e8b5"),i=t("23cb"),s=t("50c4"),o=t("fc6a"),u=t("8418"),l=t("b622"),m=t("1dde"),d=m("slice"),b=l("species"),f=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!d},{slice:function(e,r){var t,a,l,m=o(this),d=s(m.length),p=i(e,d),h=i(void 0===r?d:r,d);if(c(m)&&(t=m.constructor,"function"!=typeof t||t!==Array&&!c(t.prototype)?n(t)&&(t=t[b],null===t&&(t=void 0)):t=void 0,t===Array||void 0===t))return f.call(m,p,h);for(a=new(void 0===t?Array:t)(g(h-p,0)),l=0;p<h;p++,l++)p in m&&u(a,l,m[p]);return a.length=l,a}})}}]);
//# sourceMappingURL=chunk-675f5530.b41f2cfb.js.map