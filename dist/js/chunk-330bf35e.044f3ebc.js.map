{"version":3,"sources":["webpack:///./src/apis/admin.js","webpack:///./src/views/AdminRestaurant.vue","webpack:///./src/views/AdminRestaurant.vue?84a1"],"names":["categories","get","apiHelper","create","name","post","update","categoryId","put","delete","restaurants","formData","getDetail","restaurantId","users","userId","class","isLoading","restaurant","categoryName","src","$filter","emptyImageFilter","image","style","openingHours","tel","address","description","type","$router","back","data","id","components","Spinner","mounted","this","$route","params","fetchRestaurant","beforeRouteUpdate","to","from","next","methods","admin","Category","opening_hours","fire","icon","title","render"],"mappings":"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","file":"js/chunk-330bf35e.044f3ebc.js","sourcesContent":["import { apiHelper } from '../utils/helpers';\n\nexport default {\n  categories: {\n    get() {\n      return apiHelper.get('/admin/categories');\n    },\n    create({ name }) {\n      return apiHelper.post('/admin/categories', { name });\n    },\n    update({ categoryId, name }) {\n      return apiHelper.put(`/admin/categories/${categoryId}`, { name });\n    },\n    delete({ categoryId }) {\n      return apiHelper.delete(`/admin/categories/${categoryId}`);\n    }\n  },\n  restaurants: {\n    create({ formData }) {\n      return apiHelper.post('/admin/restaurants', formData);\n    },\n    get() {\n      return apiHelper.get('/admin/restaurants');\n    },\n    getDetail({ restaurantId }) {\n      return apiHelper.get(`/admin/restaurants/${restaurantId}`);\n    },\n    update({ restaurantId, formData }) {\n      return apiHelper.put(`/admin/restaurants/${restaurantId}`, formData);\n    },\n    delete({ restaurantId }) {\n      return apiHelper.delete(`/admin/restaurants/${restaurantId}`);\n    }\n  },\n  users: {\n    get() {\n      return apiHelper.get('/admin/users');\n    },\n    update({ userId }) {\n      return apiHelper.put(`/admin/users/${userId}`, null);\n    }\n  }\n};\n","<template>\n  <div class=\"container py-5\">\n    <!-- Spinner -->\n    <spinner v-if=\"isLoading\" />\n    <template v-else>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <h1>{{ restaurant.name }}</h1>\n          <span class=\"badge bg-secondary mt-1 mb-3\">\n            {{ restaurant.categoryName }}\n          </span>\n        </div>\n        <div class=\"col-md-4\">\n          <img\n            class=\"img-responsive center-block\"\n            :src=\"$filter.emptyImageFilter(restaurant.image)\"\n            style=\"width: 250px;margin-bottom: 25px;\"\n          />\n          <div class=\"well\">\n            <ul class=\"list-unstyled\">\n              <li>\n                <strong>Opening Hour:</strong>\n                {{ restaurant.openingHours }}\n              </li>\n              <li>\n                <strong>Tel:</strong>\n                {{ restaurant.tel }}\n              </li>\n              <li>\n                <strong>Address:</strong>\n                {{ restaurant.address }}\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"col-md-8\">\n          <p>{{ restaurant.description }}</p>\n        </div>\n      </div>\n      <hr />\n      <button type=\"button\" class=\"btn btn-link\" @click=\"$router.back()\">回上一頁</button>\n    </template>\n  </div>\n</template>\n<script>\nimport Spinner from '../components/Spinner.vue';\nimport adminAPI from '../apis/admin';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  name: 'AdminRestaurant',\n  data() {\n    return {\n      restaurant: {\n        id: -1,\n        name: '',\n        categoryName: '',\n        image: '',\n        openingHours: '',\n        tel: '',\n        address: '',\n        description: ''\n      },\n      isLoading: true\n    };\n  },\n  components: {\n    Spinner\n  },\n  mounted() {\n    const { id: restaurantId } = this.$route.params;\n    this.fetchRestaurant(restaurantId);\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params;\n    this.fetchRestaurant(id);\n    next();\n  },\n  methods: {\n    async fetchRestaurant(restaurantId) {\n      try {\n        this.isLoading = true;\n        const { data } = await adminAPI.restaurants.getDetail({ restaurantId });\n        const {\n          id,\n          name,\n          image,\n          Category,\n          opening_hours: openingHours,\n          tel,\n          address,\n          description\n        } = data.restaurant;\n\n        this.restaurant = {\n          ...this.restaurant,\n          id,\n          name,\n          categoryName: Category ? Category.name : 'uncategorized',\n          image,\n          openingHours,\n          tel,\n          address,\n          description\n        };\n        this.isLoading = false;\n      } catch (err) {\n        this.isLoading = false;\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to get restaurant data, please try again later.'\n        });\n      }\n    }\n  }\n};\n</script>\n","import { render } from \"./AdminRestaurant.vue?vue&type=template&id=f0676bac\"\nimport script from \"./AdminRestaurant.vue?vue&type=script&lang=js\"\nexport * from \"./AdminRestaurant.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}