{"version":3,"sources":["webpack:///./src/views/RestaurantsTop.vue","webpack:///./src/components/TopRestaurantCard.vue","webpack:///./src/components/TopRestaurantCard.vue?0da1","webpack:///./src/views/RestaurantsTop.vue?3ef1","webpack:///./src/components/TopRestaurantCard.vue?538e"],"names":["class","isLoading","restaurants","restaurant","key","id","initial-restaurant","style","src","$filter","emptyImageFilter","image","to","name","isFavorited","removeFavorite","addFavorite","favCount","description","props","initialRestaurant","type","Object","required","data","this","watch","newValue","methods","restaurantId","status","Error","message","fire","icon","title","render","__scopeId","components","TopRestaurantCard","Spinner","fetchTopRestaurants","getTopRestaurants","created"],"mappings":"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","file":"js/chunk-94995392.58b29609.js","sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <!-- Spinner -->\n    <spinner v-if=\"isLoading\" />\n    <template v-else>\n      <!-- Title -->\n      <div class=\"title text-center col-12 p-5 mb-3\">\n        <h1 class=\"mb-3\">Top Restaurants</h1>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt\n          ut labore et dolore magna aliqua. Lectus magna fringilla urna porttitor rhoncus. Tellus\n          orci ac auctor augue mauris.\n        </p>\n      </div>\n\n      <hr />\n      <!-- Top Restaurant List -->\n      <top-restaurant-card\n        v-for=\"restaurant in restaurants\"\n        :key=\"restaurant.id\"\n        :initial-restaurant=\"restaurant\"\n        class=\"mb-4\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport TopRestaurantCard from '../components/TopRestaurantCard.vue';\nimport Spinner from '../components/Spinner.vue';\nimport restaurantsAPI from '../apis/restaurants';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  data() {\n    return {\n      restaurants: [],\n      isLoading: true\n    };\n  },\n  components: {\n    TopRestaurantCard,\n    Spinner\n  },\n  methods: {\n    async fetchTopRestaurants() {\n      this.isLoading = true;\n      try {\n        const { data } = await restaurantsAPI.getTopRestaurants();\n\n        this.restaurants = data.restaurants;\n        this.isLoading = false;\n      } catch (err) {\n        this.isLoading = false;\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to get top restaurants data, please try again later.'\n        });\n      }\n    }\n  },\n  created() {\n    this.fetchTopRestaurants();\n  }\n};\n</script>\n","<template>\n  <div class=\"card mb-3\" style=\"max-width: 580px;margin: auto;\">\n    <div class=\"row g-0\">\n      <div class=\"col-md-5\">\n        <div class=\"rest-img-container\">\n          <img\n            class=\"card-img rest-img-top\"\n            :src=\"$filter.emptyImageFilter(restaurant.image)\"\n            style=\"height: 100%; object-fit: cover;\"\n          />\n          <!-- Detail button -->\n          <div class=\"rest-card-button\">\n            <router-link\n              :to=\"{ name: 'restaurant', params: { id: restaurant.id } }\"\n              class=\"btn info-btn me-2\"\n              >Detail</router-link\n            >\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-7\">\n        <div class=\"card-body\">\n          <div class=\"mb-2\">\n            <router-link\n              :to=\"{ name: 'restaurant', params: { id: restaurant.id } }\"\n              class=\"card-title\"\n            >\n              {{ restaurant.name }}\n            </router-link>\n            <span class=\"btn-container border rounded-3 float-end py-1 px-3\">\n              <span\n                v-if=\"restaurant.isFavorited\"\n                class=\"favorite\"\n                @click.prevent.stop=\"removeFavorite(restaurant.id)\"\n              >\n                <i class=\"fas fa-bookmark fa-lg me-2\"></i>Unsave\n              </span>\n              <span v-else class=\"favorite\" @click.prevent.stop=\"addFavorite(restaurant.id)\">\n                <i class=\"far fa-bookmark fa-lg me-2\"></i>Save\n              </span>\n            </span>\n          </div>\n          <span class=\"badge bg-secondary mb-3\">Savedï¼š{{ restaurant.favCount || 0 }}</span>\n          <p class=\"card-text mb-3\">\n            {{ restaurant.description }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport restaurantsAPI from '../apis/restaurants';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  props: {\n    initialRestaurant: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      restaurant: this.initialRestaurant\n    };\n  },\n  watch: {\n    initialRestaurant(newValue) {\n      this.restaurant = {\n        ...this.restaurant,\n        ...newValue\n      };\n    }\n  },\n  methods: {\n    async addFavorite(restaurantId) {\n      try {\n        const { data } = await restaurantsAPI.addFavorite({ restaurantId });\n        if (data.status !== 'success') {\n          throw new Error(data.message);\n        }\n\n        this.restaurant = {\n          ...this.restaurant,\n          isFavorited: true,\n          favCount: this.restaurant.favCount ? this.restaurant.favCount + 1 : 1\n        };\n      } catch (err) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to add the restaurant to your favorite list, please try again later.'\n        });\n      }\n    },\n    async removeFavorite(restaurantId) {\n      try {\n        const { data } = await restaurantsAPI.removeFavorite({ restaurantId });\n        if (data.status !== 'success') {\n          throw new Error(data.message);\n        }\n\n        this.restaurant = {\n          ...this.restaurant,\n          favCount: this.restaurant.favCount - 1,\n          isFavorited: false\n        };\n      } catch (err) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to remove the restaurant from your favorite list, please try again later.'\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.card-title {\n  font-weight: 500;\n  line-height: 1.2;\n  font-size: 1.25rem;\n  color: #4d4d4d;\n}\n\n.btn-container {\n  cursor: pointer;\n}\n\n.btn-container span {\n  font-size: 0.8rem;\n}\n\n.btn-container:hover {\n  background-color: #ebecf0;\n}\n\ni {\n  color: #bd2333;\n}\n\n/* img */\n\n.rest-img-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 230px;\n  overflow: hidden;\n  background-color: #a9a9a9;\n  box-shadow: 0px 2px 10px 0px rgba(0, 0, 0, 0.18);\n}\n\n.rest-img-top {\n  width: 100%;\n  height: 300px;\n  display: block;\n  object-fit: cover;\n  opacity: 1;\n  transition: opacity 0.3s ease-out;\n}\n\n.rest-img-container::before,\n.rest-img-container::after {\n  content: '';\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  right: 1rem;\n  bottom: 1rem;\n  transition: transform 0.4s ease-out;\n}\n\n.rest-img-container::before {\n  border-top: 1px solid white;\n  border-bottom: 1px solid white;\n  transform: scale(0, 1);\n}\n\n.rest-img-container::after {\n  border-left: 1px solid white;\n  border-right: 1px solid white;\n  transform: scale(1, 0);\n}\n\n.rest-img-container:hover::before {\n  transform: scale(1.05, 1);\n}\n\n.rest-img-container:hover::after {\n  transform: scale(1, 1.05);\n}\n\n.rest-img-container:hover .rest-img-top {\n  opacity: 0.4;\n}\n\n/* Detail Button */\n.rest-card-button {\n  margin-top: 1rem;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-45%, -75%);\n  opacity: 0;\n  transition: opacity 0.3s ease-out;\n  z-index: 1;\n}\n\n.rest-img-container:hover .rest-card-button {\n  opacity: 1;\n}\n\n.info-btn {\n  background: transparent;\n  border: 1px solid beige;\n  border-radius: 8px;\n  padding: 3px 10px;\n  color: white;\n}\n\n.info-btn:hover {\n  background: rgb(250, 250, 237);\n  border: 1px solid rgb(250, 250, 237);\n  color: #bd2333;\n}\n\n.card-text {\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  white-space: normal;\n}\n</style>\n","import { render } from \"./TopRestaurantCard.vue?vue&type=template&id=df26c630&scoped=true\"\nimport script from \"./TopRestaurantCard.vue?vue&type=script&lang=js\"\nexport * from \"./TopRestaurantCard.vue?vue&type=script&lang=js\"\n\nimport \"./TopRestaurantCard.vue?vue&type=style&index=0&id=df26c630&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-df26c630\"\n\nexport default script","import { render } from \"./RestaurantsTop.vue?vue&type=template&id=35e6b6be\"\nimport script from \"./RestaurantsTop.vue?vue&type=script&lang=js\"\nexport * from \"./RestaurantsTop.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopRestaurantCard.vue?vue&type=style&index=0&id=df26c630&scoped=true&lang=css\""],"sourceRoot":""}