(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2ec8"],{"25d3":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a={class:"container py-5"},s={class:"badge bg-secondary mt-1 mb-3"},c=Object(n["g"])("hr",null,null,-1);function o(e,t,r,o,u,i){var b=Object(n["w"])("spinner");return Object(n["p"])(),Object(n["d"])("div",a,[u.isLoading?(Object(n["p"])(),Object(n["d"])(b,{key:0})):(Object(n["p"])(),Object(n["d"])(n["a"],{key:1},[Object(n["g"])("div",null,[Object(n["g"])("h1",null,Object(n["y"])(u.restaurant.name),1),Object(n["g"])("span",s,Object(n["y"])(u.restaurant.categoryName),1)]),c,Object(n["g"])("ul",null,[Object(n["g"])("li",null,"Number of comments: "+Object(n["y"])(u.restaurant.commentsLength),1),Object(n["g"])("li",null,"Number of views: "+Object(n["y"])(u.restaurant.viewCounts),1),Object(n["g"])("li",null,"Number of saves: "+Object(n["y"])(u.restaurant.saveCounts),1)]),Object(n["g"])("button",{type:"button",class:"btn btn-link",onClick:t[1]||(t[1]=function(t){return e.$router.back()})}," 回上一頁 ")],64))])}var u=r("1da1"),i=(r("96cf"),r("2375")),b=r("c4c3"),l=r("2fa3"),d={data:function(){return{restaurant:{},isLoading:!0}},components:{Spinner:i["a"]},methods:{fetchDashBoard:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,r.next=4,b["a"].getDashboard({restaurantId:e});case 4:if(n=r.sent,a=n.data,console.log("data",a),"success"===a.status){r.next=11;break}if("error"!==a.status){r.next=10;break}return r.abrupt("return",l["b"].fire({icon:"error",title:a.message}));case 10:throw new Error(a.message);case 11:return s=a.restaurant,c=a.Comments,t.restaurant={name:s.name,categoryName:s.Category.name,commentsLength:c?c.length:0,viewCounts:s.viewCounts,saveCounts:s.FavoritedUsers.length},t.isLoading=!1,r.abrupt("return",null);case 17:return r.prev=17,r.t0=r["catch"](0),t.isLoading=!1,console.log(r.t0),r.abrupt("return",l["b"].fire({icon:"error",title:"Sorry, we can not get restaurant data rignt now, please try again later."}));case 22:case"end":return r.stop()}}),r,null,[[0,17]])})))()}},created:function(){var e=this.$route.params.id;this.fetchDashBoard(e)},beforeRouteUpdate:function(e,t,r){var n=this.$route.params.id;this.fetchDashBoard(n),r()}};d.render=o;t["default"]=d}}]);
//# sourceMappingURL=chunk-2d0b2ec8.237683e5.js.map