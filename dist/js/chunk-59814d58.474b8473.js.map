{"version":3,"sources":["webpack:///./src/views/UsersTop.vue","webpack:///./src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?c67b","webpack:///./src/views/UsersTop.vue?862d","webpack:///./src/components/UserCard.vue?14b3"],"names":["class","isLoading","topUsers","initialUser","key","id","initial-user","current-user-id","currentUserId","to","user","src","$filter","emptyImageFilter","image","name","followerCount","isFollowed","type","unfollow","follow","props","Object","required","Number","data","this","methods","userId","users","status","Error","message","fire","icon","title","render","__scopeId","components","UserCard","Spinner","fetchTopUsers","getTopUsers","created"],"mappings":"4IACOA,MAAM,kB,EAKP,eAOM,OAPDA,MAAM,qCAAmC,CAC5C,eAA+B,MAA3BA,MAAM,QAAO,aACjB,eAII,SAJD,sN,KAML,eAAM,mB,GACDA,MAAM,0C,8GAdf,eAwBM,MAxBN,EAwBM,CAtBW,EAAAC,W,iBAAf,eAA4B,a,iBAC5B,eAoBW,gBAlBT,EAQA,EACA,eAQM,MARN,EAQM,E,mBANJ,eAKE,2BAJsB,EAAAC,UAAQ,SAAvBC,G,wBADT,eAKE,GAHCC,IAAKD,EAAYE,GACjBC,eAAcH,EACdI,kBAAiB,EAAAC,e,iLCpBrBR,MAAM,S,GAKHA,MAAM,sB,SACwBA,MAAM,Q,4GAN5C,eAmBM,MAnBN,EAmBM,CAlBJ,eAEc,GAFAS,GAAE,gCAAwC,EAAAC,KAAKL,M,YAC3D,iBAAmD,CAAnD,eAAmD,OAA7CM,IAAK,EAAAC,QAAQC,iBAAiB,EAAAH,KAAKI,Q,mCAE3C,eAAwB,yBAAjB,EAAAJ,KAAKK,MAAI,GAChB,eAA+E,OAA/E,EAAiC,aAAU,eAAG,EAAAL,KAAKM,eAAa,MACvD,EAAAR,gBAAkB,EAAAE,KAAKL,I,iBAAhC,eAYI,IAZJ,EAYI,CAVM,EAAAK,KAAKO,Y,iBADb,eAOS,U,MALPC,KAAK,SACLlB,MAAM,iBACL,QAAK,+CAAe,EAAAmB,SAAS,EAAAT,KAAKL,MAAE,sBACtC,gB,iBAGD,eAES,U,MAFMa,KAAK,SAASlB,MAAM,kBAAmB,QAAK,+CAAe,EAAAoB,OAAO,EAAAV,KAAKL,MAAE,sBAAG,gB,2EAWlF,GACbgB,MAAO,CACLlB,YAAa,CACXe,KAAMI,OACNC,UAAU,GAEZf,cAAe,CACbU,KAAMM,OACND,UAAU,IAGdE,KAXa,WAYX,MAAO,CACLf,KAAMgB,KAAKvB,cAGfwB,QAAS,CACDP,OADC,SACMQ,GAAQ,yLAEMC,EAAA,KAAST,OAAOQ,GAFtB,mBAETH,EAFS,EAETA,KACY,YAAhBA,EAAKK,OAHQ,sBAIT,IAAIC,MAAMN,EAAKO,SAJN,OAOjB,EAAKtB,KAAL,iCACK,EAAKA,MADV,IAEEM,cAAe,EAAKA,cAAgB,EAAKA,cAAgB,EAAI,EAC7DC,YAAY,IAVG,qDAajB,OAAMgB,KAAK,CACTC,KAAM,QACNC,MAAO,uDAfQ,6DAmBfhB,SApBC,SAoBQS,GAAQ,yLAEIC,EAAA,KAASV,SAASS,GAFtB,mBAEXH,EAFW,EAEXA,KACY,YAAhBA,EAAKK,OAHU,sBAIX,IAAIC,MAAMN,EAAKO,SAJJ,OAMnB,EAAKtB,KAAL,iCACK,EAAKA,MADV,IAEEM,cAAeQ,OAAO,EAAKR,eAAiB,EAC5CC,YAAY,IATK,qDAYnB,OAAMgB,KAAK,CACTC,KAAM,QACNC,MAAO,yDAdU,+D,UC1D3B,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YF0BA,GACbZ,KADa,WAEX,MAAO,CACLvB,SAAU,GACVM,eAAgB,EAChBP,WAAW,IAGfqC,WAAY,CACVC,WACAC,UAAA,MAEFb,QAAS,CACDc,cADC,WACe,gLAElB,EAAKxC,WAAY,EAFC,SAGK4B,EAAA,KAASa,cAHd,gBAGVjB,EAHU,EAGVA,KAER,EAAKvB,SAAWuB,EAAKI,MACrB,EAAKrB,cAAgBiB,EAAKpB,GAC1B,EAAKJ,WAAY,EAPC,qDASlB,EAAKA,WAAY,EACjB,OAAMgC,KAAK,CACTC,KAAM,QACNC,MAAO,0DAZS,8DAiBxBQ,QA9Ba,WA+BXjB,KAAKe,kBG9DT,EAAOL,OAASA,EAED,gB,yDCLf","file":"js/chunk-59814d58.474b8473.js","sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <!-- Spinner -->\n    <spinner v-if=\"isLoading\" />\n    <template v-else>\n      <!-- Title -->\n      <div class=\"title text-center col-12 p-5 mb-3\">\n        <h1 class=\"mb-3\">Top Users</h1>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt\n          ut labore et dolore magna aliqua. Lectus magna fringilla urna porttitor rhoncus. Tellus\n          orci ac auctor augue mauris.\n        </p>\n      </div>\n      <hr />\n      <div class=\"row text-center justify-content-center\">\n        <!-- User Card -->\n        <user-card\n          v-for=\"initialUser in topUsers\"\n          :key=\"initialUser.id\"\n          :initial-user=\"initialUser\"\n          :current-user-id=\"currentUserId\"\n        />\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport UserCard from '../components/UserCard.vue';\nimport Spinner from '../components/Spinner.vue';\nimport usersAPI from '../apis/users';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  data() {\n    return {\n      topUsers: [],\n      currentUserId: -1,\n      isLoading: true\n    };\n  },\n  components: {\n    UserCard,\n    Spinner\n  },\n  methods: {\n    async fetchTopUsers() {\n      try {\n        this.isLoading = true;\n        const { data } = await usersAPI.getTopUsers();\n\n        this.topUsers = data.users;\n        this.currentUserId = data.id;\n        this.isLoading = false;\n      } catch (err) {\n        this.isLoading = false;\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to get top users data, please try again later.'\n        });\n      }\n    }\n  },\n  created() {\n    this.fetchTopUsers();\n  }\n};\n</script>\n","<template>\n  <div class=\"col-3\">\n    <router-link :to=\"{ name: 'user-profile', params: { id: user.id } }\">\n      <img :src=\"$filter.emptyImageFilter(user.image)\" />\n    </router-link>\n    <h2>{{ user.name }}</h2>\n    <span class=\"badge bg-secondary\">followersï¼š{{ user.followerCount || 0 }}</span>\n    <p v-if=\"currentUserId !== user.id\" class=\"mt-3\">\n      <button\n        v-if=\"user.isFollowed\"\n        type=\"button\"\n        class=\"btn btn-danger\"\n        @click.prevent.stop=\"unfollow(user.id)\"\n      >\n        Unfollow\n      </button>\n      <button v-else type=\"button\" class=\"btn btn-primary\" @click.prevent.stop=\"follow(user.id)\">\n        Follow\n      </button>\n    </p>\n  </div>\n</template>\n\n<script>\nimport usersAPI from '../apis/users';\nimport { Toast } from '../utils/helpers';\n\nexport default {\n  props: {\n    initialUser: {\n      type: Object,\n      required: true\n    },\n    currentUserId: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      user: this.initialUser\n    };\n  },\n  methods: {\n    async follow(userId) {\n      try {\n        const { data } = await usersAPI.follow(userId);\n        if (data.status !== 'success') {\n          throw new Error(data.message);\n        }\n\n        this.user = {\n          ...this.user,\n          followerCount: this.followerCount ? this.followerCount + 1 : 1,\n          isFollowed: true\n        };\n      } catch (err) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to follow the user, please try again later.'\n        });\n      }\n    },\n    async unfollow(userId) {\n      try {\n        const { data } = await usersAPI.unfollow(userId);\n        if (data.status !== 'success') {\n          throw new Error(data.message);\n        }\n        this.user = {\n          ...this.user,\n          followerCount: Number(this.followerCount) - 1,\n          isFollowed: false\n        };\n      } catch (err) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to unfollow the user, please try again later.'\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\nimg {\n  width: 140px;\n  height: 140px;\n}\n</style>\n","import { render } from \"./UserCard.vue?vue&type=template&id=39e9a729&scoped=true\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js\"\n\nimport \"./UserCard.vue?vue&type=style&index=0&id=39e9a729&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-39e9a729\"\n\nexport default script","import { render } from \"./UsersTop.vue?vue&type=template&id=0c914676\"\nimport script from \"./UsersTop.vue?vue&type=script&lang=js\"\nexport * from \"./UsersTop.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserCard.vue?vue&type=style&index=0&id=39e9a729&scoped=true&lang=css\""],"sourceRoot":""}