(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94995392"],{"571a":function(t,e,a){"use strict";a.r(e);var r=a("7a23"),n={class:"container py-5"},s=Object(r["h"])("div",{class:"title text-center col-12 p-5 mb-3"},[Object(r["h"])("h1",{class:"mb-3"},"Top Restaurants"),Object(r["h"])("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lectus magna fringilla urna porttitor rhoncus. Tellus orci ac auctor augue mauris. ")],-1),c=Object(r["h"])("hr",null,null,-1);function i(t,e,a,i,o,u){var d=Object(r["A"])("spinner"),b=Object(r["A"])("top-restaurant-card");return Object(r["t"])(),Object(r["e"])("div",n,[o.isLoading?(Object(r["t"])(),Object(r["e"])(d,{key:0})):(Object(r["t"])(),Object(r["e"])(r["a"],{key:1},[s,c,(Object(r["t"])(!0),Object(r["e"])(r["a"],null,Object(r["z"])(o.restaurants,(function(t){return Object(r["t"])(),Object(r["e"])(b,{key:t.id,"initial-restaurant":t,class:"mb-4"},null,8,["initial-restaurant"])})),128))],64))])}var o=a("1da1"),u=(a("96cf"),a("b0c0"),a("a4d3"),a("e01a"),Object(r["N"])("data-v-df26c630"));Object(r["w"])("data-v-df26c630");var d={class:"card mb-3",style:{"max-width":"580px",margin:"auto"}},b={class:"row g-0"},l={class:"col-md-5"},v={class:"rest-img-container"},f={class:"rest-card-button"},j=Object(r["g"])("Detail"),p={class:"col-md-7"},O={class:"card-body"},m={class:"mb-2"},h={class:"btn-container border rounded-3 float-end py-1 px-3"},g=Object(r["h"])("i",{class:"fas fa-bookmark fa-lg me-2"},null,-1),k=Object(r["g"])("Unsave "),w=Object(r["h"])("i",{class:"far fa-bookmark fa-lg me-2"},null,-1),y=Object(r["g"])("Save "),x={class:"badge bg-secondary mb-3"},R={class:"card-text mb-3"};Object(r["u"])();var F=u((function(t,e,a,n,s,c){var i=Object(r["A"])("router-link");return Object(r["t"])(),Object(r["e"])("div",d,[Object(r["h"])("div",b,[Object(r["h"])("div",l,[Object(r["h"])("div",v,[Object(r["h"])("img",{class:"card-img rest-img-top",src:t.$filter.emptyImageFilter(s.restaurant.image),style:{height:"100%","object-fit":"cover"}},null,8,["src"]),Object(r["h"])("div",f,[Object(r["h"])(i,{to:{name:"restaurant",params:{id:s.restaurant.id}},class:"btn info-btn me-2"},{default:u((function(){return[j]})),_:1},8,["to"])])])]),Object(r["h"])("div",p,[Object(r["h"])("div",O,[Object(r["h"])("div",m,[Object(r["h"])(i,{to:{name:"restaurant",params:{id:s.restaurant.id}},class:"card-title"},{default:u((function(){return[Object(r["g"])(Object(r["D"])(s.restaurant.name),1)]})),_:1},8,["to"]),Object(r["h"])("span",h,[s.restaurant.isFavorited?(Object(r["t"])(),Object(r["e"])("span",{key:0,class:"favorite",onClick:e[1]||(e[1]=Object(r["M"])((function(t){return c.removeFavorite(s.restaurant.id)}),["prevent","stop"]))},[g,k])):(Object(r["t"])(),Object(r["e"])("span",{key:1,class:"favorite",onClick:e[2]||(e[2]=Object(r["M"])((function(t){return c.addFavorite(s.restaurant.id)}),["prevent","stop"]))},[w,y]))])]),Object(r["h"])("span",x,"Savedï¼š"+Object(r["D"])(s.restaurant.favCount||0),1),Object(r["h"])("p",R,Object(r["D"])(s.restaurant.description),1)])])])])})),C=a("5530"),L=a("c4c3"),T=a("2fa3"),D={props:{initialRestaurant:{type:Object,required:!0}},data:function(){return{restaurant:this.initialRestaurant}},watch:{initialRestaurant:function(t){this.restaurant=Object(C["a"])(Object(C["a"])({},this.restaurant),t)}},methods:{addFavorite:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L["a"].addFavorite({restaurantId:t});case 3:if(r=a.sent,n=r.data,"success"===n.status){a.next=7;break}throw new Error(n.message);case 7:e.restaurant=Object(C["a"])(Object(C["a"])({},e.restaurant),{},{isFavorited:!0,favCount:e.restaurant.favCount?e.restaurant.favCount+1:1}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),T["b"].fire({icon:"error",title:"Unable to add the restaurant to your favorite list, please try again later."});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},removeFavorite:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L["a"].removeFavorite({restaurantId:t});case 3:if(r=a.sent,n=r.data,"success"===n.status){a.next=7;break}throw new Error(n.message);case 7:e.restaurant=Object(C["a"])(Object(C["a"])({},e.restaurant),{},{favCount:e.restaurant.favCount-1,isFavorited:!1}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),T["b"].fire({icon:"error",title:"Unable to remove the restaurant from your favorite list, please try again later."});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}};a("fe40");D.render=F,D.__scopeId="data-v-df26c630";var I=D,U=a("2375"),_={data:function(){return{restaurants:[],isLoading:!0}},components:{TopRestaurantCard:I,Spinner:U["a"]},methods:{fetchTopRestaurants:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,L["a"].getTopRestaurants();case 4:a=e.sent,r=a.data,t.restaurants=r.restaurants,t.isLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),t.isLoading=!1,T["b"].fire({icon:"error",title:"Unable to get top restaurants data, please try again later."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},created:function(){this.fetchTopRestaurants()}};_.render=i;e["default"]=_},d16d:function(t,e,a){},fe40:function(t,e,a){"use strict";a("d16d")}}]);
//# sourceMappingURL=chunk-94995392.58b29609.js.map