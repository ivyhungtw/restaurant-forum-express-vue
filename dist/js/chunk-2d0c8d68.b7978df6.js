(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8d68"],{"571a":function(t,e,a){"use strict";a.r(e);var r=a("7a23"),n={class:"container py-5"},s=Object(r["g"])("div",{class:"title text-center col-12 p-5 mb-3"},[Object(r["g"])("h1",{class:"mb-3"},"Top Restaurants"),Object(r["g"])("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lectus magna fringilla urna porttitor rhoncus. Tellus orci ac auctor augue mauris. ")],-1),c=Object(r["g"])("hr",null,null,-1);function i(t,e,a,i,u,o){var d=Object(r["z"])("spinner"),b=Object(r["z"])("top-restaurant-card");return Object(r["s"])(),Object(r["d"])("div",n,[u.isLoading?(Object(r["s"])(),Object(r["d"])(d,{key:0})):(Object(r["s"])(),Object(r["d"])(r["a"],{key:1},[s,c,(Object(r["s"])(!0),Object(r["d"])(r["a"],null,Object(r["y"])(u.restaurants,(function(t){return Object(r["s"])(),Object(r["d"])(b,{key:t.id,"initial-restaurant":t},null,8,["initial-restaurant"])})),128))],64))])}var u=a("1da1"),o=(a("96cf"),a("a4d3"),a("e01a"),{class:"card mb-3",style:{"max-width":"540px",margin:"auto"}}),d={class:"row no-gutters"},b={class:"col-md-4"},l={class:"col-md-8"},p={class:"card-body"},v=Object(r["g"])("h5",{class:"card-title"}," Mrs. Mckenzie Johnston ",-1),j={class:"badge bg-secondary"},O={class:"card-text"},m=Object(r["f"])("Detail");function f(t,e,a,n,s,c){var i=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["d"])("div",o,[Object(r["g"])("div",d,[Object(r["g"])("div",b,[Object(r["g"])(i,{to:{name:"restaurant",params:{id:s.restaurant.id}}},{default:Object(r["J"])((function(){return[Object(r["g"])("img",{class:"card-img",src:t.$filter.emptyImageFilter(s.restaurant.image),style:{height:"100%","object-fit":"cover"}},null,8,["src"])]})),_:1},8,["to"])]),Object(r["g"])("div",l,[Object(r["g"])("div",p,[v,Object(r["g"])("span",j,"Savedï¼š"+Object(r["C"])(s.restaurant.favCount||0),1),Object(r["g"])("p",O,Object(r["C"])(s.restaurant.description),1),Object(r["g"])(i,{to:{name:"restaurant",params:{id:s.restaurant.id}},class:"btn btn-primary me-2"},{default:Object(r["J"])((function(){return[m]})),_:1},8,["to"]),s.restaurant.isFavorited?(Object(r["s"])(),Object(r["d"])("button",{key:0,type:"button",class:"btn btn-danger me-2",onClick:e[1]||(e[1]=Object(r["L"])((function(t){return c.removeFavorite(s.restaurant.id)}),["prevent","stop"]))}," Remove from Fav ")):(Object(r["s"])(),Object(r["d"])("button",{key:1,type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=Object(r["L"])((function(t){return c.addFavorite(s.restaurant.id)}),["prevent","stop"]))}," Add to Fav "))])])])])}var g=a("5530"),h=a("c4c3"),w=a("2fa3"),y={props:{initialRestaurant:{type:Object,required:!0}},data:function(){return{restaurant:this.initialRestaurant}},watch:{initialRestaurant:function(t){this.restaurant=Object(g["a"])(Object(g["a"])({},this.restaurant),t)}},methods:{addFavorite:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h["a"].addFavorite({restaurantId:t});case 3:if(r=a.sent,n=r.data,"success"===n.status){a.next=7;break}throw new Error(n.message);case 7:e.restaurant=Object(g["a"])(Object(g["a"])({},e.restaurant),{},{isFavorited:!0,favCount:e.restaurant.favCount?e.restaurant.favCount+1:1}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),w["b"].fire({icon:"error",title:"Unable to add the restaurant to your favorite list, please try again later."});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},removeFavorite:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h["a"].removeFavorite({restaurantId:t});case 3:if(r=a.sent,n=r.data,"success"===n.status){a.next=7;break}throw new Error(n.message);case 7:e.restaurant=Object(g["a"])(Object(g["a"])({},e.restaurant),{},{favCount:e.restaurant.favCount-1,isFavorited:!1}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),w["b"].fire({icon:"error",title:"Unable to remove the restaurant from your favorite list, please try again later."});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}};y.render=f;var k=y,x=a("2375"),R={data:function(){return{restaurants:[],isLoading:!0}},components:{TopRestaurantCard:k,Spinner:x["a"]},methods:{fetchTopRestaurants:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,h["a"].getTopRestaurants();case 4:a=e.sent,r=a.data,t.restaurants=r.restaurants,t.isLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),t.isLoading=!1,w["b"].fire({icon:"error",title:"Unable to get top restaurants data, please try again later."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},created:function(){this.fetchTopRestaurants()}};R.render=i;e["default"]=R}}]);
//# sourceMappingURL=chunk-2d0c8d68.b7978df6.js.map