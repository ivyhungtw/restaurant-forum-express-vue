(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e180add"],{"22ab":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),s={class:"container py-5"},a=Object(n["h"])("div",{class:"title text-center col-12 p-5 mb-3"},[Object(n["h"])("h1",{class:"mb-3"},"Top Users"),Object(n["h"])("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lectus magna fringilla urna porttitor rhoncus. Tellus orci ac auctor augue mauris. ")],-1),c=Object(n["h"])("hr",null,null,-1),i={class:"user-container row text-center mt-5"};function o(e,t,r,o,u,l){var d=Object(n["A"])("spinner"),b=Object(n["A"])("user-card");return Object(n["t"])(),Object(n["e"])("div",s,[u.isLoading?(Object(n["t"])(),Object(n["e"])(d,{key:0})):(Object(n["t"])(),Object(n["e"])(n["a"],{key:1},[a,c,Object(n["h"])("div",i,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(u.topUsers,(function(e){return Object(n["t"])(),Object(n["e"])(b,{key:e.id,"initial-user":e,"current-user-id":u.currentUserId},null,8,["initial-user","current-user-id"])})),128))])],64))])}var u=r("1da1"),l=(r("96cf"),r("b0c0"),Object(n["N"])("data-v-41fa060a"));Object(n["w"])("data-v-41fa060a");var d={class:"col-12 col-md-6 col-lg-4 col-xl-3\n           mb-4\n           d-flex\n           align-items-stretch\n           justify-content-center"},b={class:"user-card card pb-2",style:{width:"25rem"}},f={key:0,class:"btn-container add mx-4 mt-2 d-flex justify-content-end"},p={class:"card-body d-flex flex-column justify-content-between"},j={class:"user-info mb-2"},O={class:"card-title text-center"},m={class:"badge bg-secondary"},g={class:" d-flex justify-content-center mt-2"},h=Object(n["g"])(" Profile ");Object(n["u"])();var w=l((function(e,t,r,s,a,c){var i=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])("div",d,[Object(n["h"])("div",b,[r.currentUserId!==a.user.id?(Object(n["t"])(),Object(n["e"])("div",f,[a.user.isFollowed?(Object(n["t"])(),Object(n["e"])("button",{key:0,type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=Object(n["M"])((function(e){return c.unfollow(a.user.id)}),["prevent","stop"])),disabled:a.isProcessing}," Unfollow ",8,["disabled"])):(Object(n["t"])(),Object(n["e"])("button",{key:1,type:"button",class:"btn btn-red",onClick:t[2]||(t[2]=Object(n["M"])((function(e){return c.follow(a.user.id)}),["prevent","stop"])),disabled:a.isProcessing}," + Follow ",8,["disabled"]))])):Object(n["f"])("",!0),Object(n["h"])(i,{to:{name:"user-profile",params:{id:a.user.id}},class:"user-img d-flex justify-content-center px-5 py-3 mt-5",onClick:t[3]||(t[3]=function(t){return e.getUserData(a.user)})},{default:l((function(){return[Object(n["h"])("img",{src:e.$filter.emptyImageFilter(a.user.image),class:"\n                    img-show-user\n                    btn-show-user\n                    rounded-circle\n                    card-img-top\n                    mx-auto\n                    img-fluid\n                  ",alt:"...","data-bs-toggle":"modal","data-bs-target":"#user-modal","data-id":a.user.id},null,8,["src","data-id"])]})),_:1},8,["to"]),Object(n["h"])("div",p,[Object(n["h"])("div",j,[Object(n["h"])("h5",O,Object(n["D"])(a.user.name),1),Object(n["h"])("span",m,"followersï¼š"+Object(n["D"])(a.user.followerCount||0),1)]),Object(n["h"])("div",g,[Object(n["h"])(i,{to:{name:"user-profile",params:{id:a.user.id}},class:"btn btn-red"},{default:l((function(){return[h]})),_:1},8,["to"])])])])])})),v=r("5530"),x=(r("a9e3"),r("4cce")),y=r("2fa3"),k={props:{initialUser:{type:Object,required:!0},currentUserId:{type:Number,required:!0}},data:function(){return{user:this.initialUser,isProcessing:!1}},methods:{follow:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isProcessing=!0,r.next=4,x["a"].follow(e);case 4:if(n=r.sent,s=n.data,"success"===s.status){r.next=8;break}throw new Error(s.message);case 8:t.user=Object(v["a"])(Object(v["a"])({},t.user),{},{followerCount:t.user.followerCount+1,isFollowed:!0}),t.isProcessing=!1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),t.isProcessing=!1,y["b"].fire({icon:"error",title:"Unable to follow the user, please try again later."});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},unfollow:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isProcessing=!0,r.next=4,x["a"].unfollow(e);case 4:if(n=r.sent,s=n.data,"success"===s.status){r.next=8;break}throw new Error(s.message);case 8:t.user=Object(v["a"])(Object(v["a"])({},t.user),{},{followerCount:t.user.followerCount-1,isFollowed:!1}),t.isProcessing=!1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),t.isProcessing=!1,y["b"].fire({icon:"error",title:"Unable to unfollow the user, please try again later."});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()}}};r("f14a");k.render=w,k.__scopeId="data-v-41fa060a";var U=k,P=r("2375"),C={data:function(){return{topUsers:[],currentUserId:-1,isLoading:!0}},components:{UserCard:U,Spinner:P["a"]},methods:{fetchTopUsers:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,x["a"].getTopUsers();case 4:r=t.sent,n=r.data,e.topUsers=n.users,e.currentUserId=n.id,e.isLoading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.isLoading=!1,y["b"].fire({icon:"error",title:"Unable to get top users data, please try again later."});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},created:function(){this.fetchTopUsers()}};C.render=o;t["default"]=C},"2e93":function(e,t,r){},f14a:function(e,t,r){"use strict";r("2e93")}}]);
//# sourceMappingURL=chunk-7e180add.8f12bfe2.js.map